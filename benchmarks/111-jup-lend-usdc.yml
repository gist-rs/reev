id: 111-JUP-LEND-USDC
description: A benchmark for lending USDC on a DeFi platform, structured similarly to a Jupiter API interaction.
tags: ["jupiter", "lending", "usdc"]

initial_state:
  # User's main wallet with SOL for transaction fees.
  - pubkey: "USER_WALLET_PUBKEY"
    owner: "11111111111111111111111111111111" # System Program
    lamports: 1000000000 # 1 SOL

  # Add a recipient wallet to own the destination ATA.
  - pubkey: "RECIPIENT_WALLET_PUBKEY"
    owner: "11111111111111111111111111111111" # System Program
    lamports: 1000000000 # 1 SOL

  # A mock USDC mint.
  - pubkey: "MOCK_USDC_MINT"
    owner: "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA" # Token Program
    lamports: 1000000 # Rent
    mint_data:
      mint_authority: "USER_WALLET_PUBKEY"
      decimals: 6

  # User's Associated Token Account (ATA) for USDC, with a starting balance to lend.
  - pubkey: "USER_USDC_ATA"
    owner: "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA" # Token Program
    lamports: 2039280 # Rent
    data: '{"mint": "MOCK_USDC_MINT", "owner": "USER_WALLET_PUBKEY", "amount": 100000000}' # 100 USDC

  # Add a recipient ATA to act as a valid destination for the transfer.
  - pubkey: "RECIPIENT_USDC_ATA"
    owner: "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA" # Token Program
    lamports: 2039280 # Rent
    data: '{"mint": "MOCK_USDC_MINT", "owner": "RECIPIENT_WALLET_PUBKEY", "amount": 0}'

prompt: "Lend 100 USDC on Kamino via Jupiter."

ground_truth:
  final_state_assertions:
    # After lending 100 USDC, the user's token account balance should be 0.
    - type: TokenAccountBalance
      pubkey: "USER_USDC_ATA"
      expected: 0

  # Placeholder for an expected instruction for a lending action.
  # This would be dynamically generated by the lending platform's API.
  expected_instruction:
    program_id: "LEND_PROGRAM_ID_PLACEHOLDER" # Placeholder for the lending program ID
    accounts:
      - pubkey: "USER_WALLET_PUBKEY"
        is_signer: true
        is_writable: false
      - pubkey: "USER_USDC_ATA"
        is_signer: false
        is_writable: true
      # ... other accounts required by the lending protocol ...
    data: "..." # Placeholder for the instruction data
